<!-- Designed register.html with help from a w3schools tutorial at https://www.w3schools.com/howto/howto_css_signup_form.asp -->
<!-- Structure and some contents of file derived from in-class examples, credit goes to DAN PORT. -->
<!DOCTYPE html>
<head>
<!--  Load font -->
<link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Playfair+Display">
<!--  Load style file -->
<link rel="stylesheet" type="text/css" href="./style_misc.css">
<!--  Load favicon -->
<link rel="icon" href="./images/icon.jpg">
<!-- Load an icon library -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<!--  Load navbar -->
<script src="./navbar.js"></script>
<script>
    // params from Lab12, modified for Assignment2
    let params = (new URL(document.location)).searchParams

    // if params have errors, give alert and suggestions to fix
    window.onload = function () {
        if (params.has('errors')) { 
            alert('Unable to process, please fix these errors: \n' + params.get('errors'));
            register["fullname"].value = params.get("fullname");
            register["username"].value = params.get("username");
            register["email"].value = params.get("email");
        }
    }
</script>
</head>
<body>
    <form action="process_register" method="POST">
        <center><div class="container">
            <div><p><script>navbar();</script></p></div>
            <div id="banner"><h1>Register for Jacob's Pokemon Card Shop</h1></div>
            <p>Please fill in this form to create an account. Please follow the suggested formats.</p>
            <hr style="border: 1px  solid transparent;">

            <div>
                <br><label for="fullname"><b>Name (ex. John Smith)</b></label></br>
                <input type="text" style="padding:12px" name="fullname" id="fullname" placeholder="Enter Name">
            </div>

            <div>
                <br><label for="username"><b>Username (ex. johnsmith)</b></label></br>
                <input type="text" style="padding:12px" name="username" id="username" placeholder="Enter Username">
            </div>

            <div>
                <br><label for="email"><b>Email (ex. johnsmith@gmail.com)</b></label></br>
                <input type="text" style="padding:12px" name="email" id="email" placeholder="Enter Email">
            </div>

            <div>
                <br><label for="password"><b>Password (passwords should be at least 6 characters)</b></label></br>
                <input type="text" style="padding:12px" name="password" id="password" placeholder="Enter Password">
            </div>

            <div>
                <br><label for="repeat_password"><b>Re-enter Password</b></label></br>
                <input type="text" style="padding:12px" name="repeat_password" id="repeat_password" placeholder="Re-enter Password">
            </div>

            <br><input type="submit" class="button" value=Register></input></br>
            
            <p><b>Already have an account?</b><br><input type="button" class="button" value="Login here" onclick="window.location.href = './login.html' + document.location.search;"></br></p>
            </hr>
        </center></div>
    </form>
</body>
</html>
<script>
    register.action += document.location.search; // save inputted query string
</script>