<!-- Structure and some contents of file derived from Invoice4 WOD, credit to DAN PORT. -->
<!-- Load product data -->
<script src="./products_data.js" type="text/javascript"></script>
<script>
// This script is designed to present an invoice.

// params variable derived from Lab12, modified for Assignment3
let params = (new URL(document.location)).searchParams;

// Block user if they are not logged in/associated with a user
// if(params.has('username') == false) {
//    alert("Oops! You are supposed to be here! Please login or register first before making a purchase!");
//    window.location.replace('./index.html');
// }

    // Retrieve user info
    if (params.has('username')) {
        var name = params.get('name')
        var username = params.get('username')
        var email = params.get('email')
    }

</script>
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cart</title>
    <!--  Load style file -->
    <link rel="stylesheet" type="text/css" href="./style_cart.css">
    <!--  Load favicon -->
    <link rel="icon" href="./images/icon.jpg">
    <!-- Load an icon library -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>
<body>
    <div class="row">
        <div class="col-75">
          <div class="container">
            <form action="/process_purchase">
            <script>
                document.write (`<b>You are logged in as ${name}.</b>`)
            </script>
      
        <div class="col-25">
          <div class="container">
            <h4>Cart
              <span class="price" style="color:black">
                <i class="fa fa-shopping-cart"></i>
                <b>4</b>
              </span>
            </h4>
            <p><a href="#">Product 1</a> <span class="price">$15</span></p>
            <p><a href="#">Product 2</a> <span class="price">$5</span></p>
            <p><a href="#">Product 3</a> <span class="price">$8</span></p>
            <p><a href="#">Product 4</a> <span class="price">$2</span></p>
            <hr>
            <p>Total <span class="price" style="color:black"><b>$30</b></span></p>
          </div>
        </div>
      </div>
    <input type="button" class="button" value="Back to Home" onclick="window.location.href = 'index.html';" float:left>
    <input type="button" class="button" value="Confirm Purchase" onclick="window.location.href = 'invoice.html' + document.location.search;">
</body>
</html>