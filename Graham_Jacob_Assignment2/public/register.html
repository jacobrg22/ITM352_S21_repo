<!-- Designed register.html with help from a w3schools tutorial at https://www.w3schools.com/howto/howto_css_signup_form.asp -->
<!DOCTYPE html>
<head>
<!--  Load font -->
<link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Playfair+Display">
<!--  Load style file -->
<link rel="stylesheet" href="./misc_style.css">
<script>
    // params from Lab12, modified for Assignment2
    let params = (new URL(document.location)).searchParams

    // if params have errors, give alert and suggestions to fix
    window.onload = function () {
        if (params.has('errors')) { 
            alert('Unable to process, please fix these errors: \n' + params.get('errors'));
            register["fullname"].value = params.get("fullname");
            register["username"].value = params.get("username");
            register["email"].value = params.get("email");
        }
    }
</script>
</head>
<body>
    <form action="process_register" method="POST">
        <center><div class="container">
            <h1>Register for Jacob's Pokemon Card Shop</h1>
            <p>Please fill in this form to create an account.</p>
            <hr style="border: 1px  solid transparent;">

            <div>
                <br><label for="fullname"><b>Name</b></label></br>
                <input type="text" style="padding:12px" name="fullname" id="fullname" pattern="[a-zA-Z]+[ ]+[a-zA-Z]+" placeholder="Enter Name">
            </div>

            <div>
                <br><label for="username"><b>Username</b></label></br>
                <input type="text" style="padding:12px" name="username" id="username" placeholder="Enter Username" required title>
            </div>

            <div>
                <br><label for="email"><b>Email</b></label></br>
                <input type="text" style="padding:12px" name="email" id="email" placeholder="Enter Email" required title>
            </div>

            <div>
                <br><label for="password"><b>Password</b></label></br>
                <input type="text" style="padding:12px" name="password" id="password" placeholder="Enter Password" required title>
            </div>

            <div>
                <br><label for="repeat_password"><b>Re-enter Password</b></label></br>
                <input type="text" style="padding:12px" name="repeat_password" id="repeat_password" placeholder="Re-enter Password" required title>
            </div>

            <br><input type="submit" class="button" value=Register></input></br>
            
            <p><b>Already have an account?</b><br><input type="button" class="button" value="Login here" onclick="window.location.href = './login.html' + document.location.search;"></br></p>
            </hr>
        </center></div>
    </form>
</body>
</html>
<script>
    register.action += document.location.search; // save inputted query string
</script>